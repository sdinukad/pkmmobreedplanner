<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokeMMO Visual Breeding Planner</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<!-- Add data-theme attribute for easier JS targeting -->
<body data-theme="light">
    <header class="main-header">
        <h1>PokeMMO Visual Breeding Planner</h1>
        <p>Plan your perfect Pok√©mon breeds with cost estimation and tracking.</p>
        <!-- Dark Mode Toggle -->
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="theme-checkbox">
                <input type="checkbox" id="theme-checkbox" />
                <div class="slider round">
                    <span class="icon sun">‚òÄÔ∏è</span>
                    <span class="icon moon">üåô</span>
                </div>
            </label>
            <span>Dark Mode</span>
        </div>
    </header>

    <div class="container">
        <section class="input-panel">
            <h2>Configuration</h2>
            <div class="input-grid">
                <div class="input-group iv-group">
                    <label>Desired 31 IVs:</label>
                    <div class="iv-selection">
                        <!-- Labels styled by CSS, spans colored dynamically -->
                        <label><input type="checkbox" name="iv" value="HP"> <span>HP</span></label>
                        <label><input type="checkbox" name="iv" value="Atk"> <span>Atk</span></label>
                        <label><input type="checkbox" name="iv" value="Def"> <span>Def</span></label>
                        <label><input type="checkbox" name="iv" value="SpA"> <span>SpA</span></label>
                        <label><input type="checkbox" name="iv" value="SpD"> <span>SpD</span></label>
                        <label><input type="checkbox" name="iv" value="Spe"> <span>Spe</span></label>
                    </div>
                </div>
                <div class="input-group">
                    <label for="nature-select">Desired Nature:</label>
                    <select id="nature-select">
                        <option value="">Any / None</option>
                        <!-- Options populated by script.js -->
                    </select>
                </div>
                <div class="input-group">
                    <label for="everstone-cost">Everstone Cost (¬•):</label>
                    <input type="number" id="everstone-cost" value="5000" min="0" step="100">
                </div>
             </div>

            <button id="generate-button">Generate Breeding Plan</button>
            <div id="error-output" class="error-message"></div>
        </section>

        <!-- Output Section -->
        <section id="breeding-plan-section" class="output-panel" style="display: none;">
            <div id="total-cost-display">
                <h3>Overall Estimated Cost</h3>
                <span id="total-cost-value">¬•0</span>
                <p class="info-text">Includes item costs + gender fee (default ¬•<span id="gender-cost-display">5,000</span>, or custom) + overrides.</p>
            </div>
             <!-- **** Plan Header with Controls **** -->
             <div class="plan-header">
                 <h2>Breeding Plan <span class="zoom-info">(Scroll to Zoom, Drag to Pan)</span></h2>
                 <div class="tree-controls" id="tree-controls-container">
                     <button id="expand-all-button" class="control-button">Expand All</button>
                     <button id="collapse-all-button" class="control-button">Collapse All</button>
                 </div>
            </div>
             <!-- **************************** -->
             <!-- Viewport for Zoom/Pan -->
            <div id="tree-viewport">
                <!-- Container that gets transformed -->
                <div id="tree-output" class="tree-container">
                    <!-- Tree output generated by script.js -->
                </div>
            </div>
             <p class="info-text bottom-info">Edit names/genders/costs. Use 'Set Gender Cost' for step-specific fees. Click [+] / [-] to toggle node visibility.</p>
        </section>
    </div>

    <!-- Link script at the end -->
    <script src="script.js"></script>
</body>
</html>
